#!/bin/bash

COMMAND=$1
RESOURCE_TYPE=$2
RESOURCE_NAME=$3
EXTRA_ARGS=$4

if [ "$COMMAND" == "logs" ] || [ "$COMMAND" == "port-forward" ] ; then 
    COMMAND_ARGS=""
else
    COMMAND_ARGS="$RESOURCE_TYPE"
fi

kubectl get $RESOURCE_TYPE | awk '/'"$RESOURCE_NAME"[-\d]+'/ {print $1}' | xargs kubectl $COMMAND $COMMAND_ARGS $EXTRA_ARGS

